{
"jbs_fuelcell": {
    "information":{
        "authors":"BeamNG",
        "name":"Fuel Cell",
        "value":500,
    },
    "slotType" : "jbs_fueltank",
    "flexbodies": [
         ["mesh", "[group]:", "nonFlexMaterials"],
         ["jbs_fuelcell", ["trunk_fuelcell"],[]],
    ],
    "variables": [
        ["name", "type", "unit", "category", "default", "min", "max", "title", "description"],
        ["$fuel1", "range", "L", "Chassis", 60, 0, 60, "Auxiliary Fuel Volume", "Initial auxiliary fuel volume", {"stepDis":0.5}],
    ],
    "energyStorage": [
        ["type", "name"],
        ["fuelTank", "mainTank"],
    ],
    "mainTank": {
        "energyType":"gasoline",
        "fuelCapacity": 60,
        "startingFuelCapacity": "$fuel1",
        "fuel": {"[engineGroup]:":["fuel1"]},
        "breakTriggerBeam": "auxFueltank",
    },
    "nodes": [
         ["id", "posX", "posY", "posZ"],
         //fuel tank particles
         {"frictionCoef":1},
         {"collision":true},
         {"selfCollision":true},
         {"group":""},
         {"nodeWeight":0.5},
         {"engineGroup":["fuel1"]},
         {"nodeMaterial":"|NM_PLASTIC"},
         {"chemEnergy":50,"burnRate":1.2,"flashPoint":220,"vaporPoint":97,"specHeat":0.03,"selfIgnitionCoef":0.06,"smokePoint":220,"containerBeam":"fuelTank2"},
         {"group":"trunk_fuelcell"},
         {"nodeWeight":1},
         ["tfc1r", -0.25, 1.42, 0.81],
         ["tfc1l",  0.18, 1.42, 0.81],
         ["tfc2r", -0.25, 1.72, 0.81],
         ["tfc2l",  0.18, 1.72, 0.81],
         ["tfc3r", -0.25, 1.42, 0.59],
         ["tfc3l",  0.18, 1.42, 0.59],
         ["tfc4r", -0.25, 1.72, 0.59],
         ["tfc4l",  0.18, 1.72, 0.59],
          {"group":""},
          {"nodeWeight":0.5},
         ["tfcf1", -0.0381, 1.669, 0.6964],
         ["tfcf1l", 0.0979, 1.669, 0.744],
         ["tfcf1r", -0.174, 1.669, 0.6828],
         ["tfcf2l", 0.0979, 1.5806, 0.744],
         ["tfcf2r", -0.174, 1.5806, 0.6692],
         {"selfIgnitionCoef":false,"selfCollision":false},
         ["tfcf3", -0.0381, 1.4855, 0.6896],
         ["tfcf3l", 0.0979, 1.4855, 0.744],
         ["tfcf3r", -0.174, 1.4855, 0.71],
         {"chemEnergy":false,"burnRate":false,"flashPoint":false,"vaporPoint":false,"specHeat":false,"selfIgnitionCoef":false,"smokePoint":false,"containerBeam":false},
         {"engineGroup":""},
    ],
    "beams": [
          ["id1:", "id2:"],
          {"beamPrecompression":1, "beamType":"|NORMAL", "beamLongBound":1, "beamShortBound":1},
          //--FUEL TANK--
          {"beamSpring":370800,"beamDamp":260},
          {"beamDeform":8000,"beamStrength":"FLT_MAX"},
          //main shape
          ["tfc1r","tfc1l"],
          ["tfc2r","tfc2l"],
          ["tfc3r","tfc3l"],
          ["tfc4r","tfc4l"],

          ["tfc1r","tfc3r"],
          ["tfc2r","tfc4r"],
          ["tfc1l","tfc3l"],
          ["tfc2l","tfc4l"],

          ["tfc1r","tfc2r"],
          ["tfc1l","tfc2l"],
          ["tfc3r","tfc4r"],
          ["tfc3l","tfc4l"],

          ["tfc1r","tfc2l"],
          ["tfc1l","tfc2r"],
          ["tfc3r","tfc4l"],
          ["tfc3l","tfc4r"],

          ["tfc1r","tfc3l"],
          ["tfc2r","tfc4l"],
          ["tfc1l","tfc3r"],
          ["tfc2l","tfc4r"],

          ["tfc1r","tfc4r"],
          ["tfc1l","tfc4l"],
          ["tfc3r","tfc2r"],
          ["tfc3l","tfc2l"],

          ["tfc1r","tfc4l"],
          ["tfc1l","tfc4r"],
          ["tfc3r","tfc2l"],
          ["tfc3l","tfc2r"],

          //attach
          {"beamSpring":210600,"beamDamp":120},
          {"beamDeform":3620,"beamStrength":21600},
          ["tfc1r","r6rr"],
          ["tfc1r","r5rr"],
          ["tfc1r","r6"],
          ["tfc1r","r5",{"breakGroup":"auxFueltank"}],
          ["tfc2r","r6rr"],
          ["tfc2r","r5rr"],
          ["tfc2r","r6"],
          ["tfc2r","r5",{"breakGroup":"auxFueltank"}],

          ["tfc1l","r6ll"],
          ["tfc1l","r5ll"],
          ["tfc1l","r6"],
          ["tfc1l","r5",{"breakGroup":"auxFueltank"}],
          ["tfc2l","r6ll"],
          ["tfc2l","r5ll"],
          ["tfc2l","r5",{"breakGroup":"auxFueltank"}],
          ["tfc3l","r5",{"breakGroup":"auxFueltank"}],
          ["tfc4l","r5",{"breakGroup":"auxFueltank"}],
          {"beamSpring":240600,"beamDamp":100},
          {"beamDeform":3620,"beamStrength":"FLT_MAX"},
          {"disableMeshBreaking":true,"disableTriangleBreaking":true},
          //connect fuel particles to tank
          {"deformLimitExpansion":""},
          ["tfcf1","tfc1r"],
          ["tfcf1","tfc4l"],
          ["tfcf1","tfc2r"],

          {"breakGroupType":1},
          {"breakGroup":"auxFueltank"},
          ["tfcf1l","tfc2r"],
          ["tfcf1l","tfc4l"],
          ["tfcf1l","tfc1r"],

          ["tfcf1r","tfc2r"],
          ["tfcf1r","tfc4l"],
          ["tfcf1r","tfc1r"],

          //["tfcf2","f3r"],
          //["tfcf2","f4l"],
          //["tfcf2","f4r"],

          ["tfcf2l","tfc2r"],
          ["tfcf2l","tfc4l"],
          ["tfcf2l","tfc1r"],

          ["tfcf2r","tfc2r"],
          ["tfcf2r","tfc4l"],
          ["tfcf2r","tfc1r"],

          ["tfcf3","tfc2r"],
          ["tfcf3","tfc4l"],
          ["tfcf3","tfc1r"],

          ["tfcf3l","tfc2r"],
          ["tfcf3l","tfc4l"],
          ["tfcf3l","tfc1r"],

          ["tfcf3r","tfc2r"],
          ["tfcf3r","tfc4l"],
          ["tfcf3r","tfc1r"],

          {"breakGroupType":0},
          {"beamSpring":150,"beamDamp":20},
          {"beamDeform":120,"beamStrength":160},
          {"optional":true},
          ["tfc1l", "tfc4r", {"name":"auxFueltank","containerBeam": "fuelTank2"}],
          ["tfc1r", "tfc4l"],
          ["tfc2l", "tfc3r"],
          ["tfc2r", "tfc3l"],
          {"optional":false},
          {"deformLimitExpansion":1.1},
          {"breakGroup":""},
          {"disableMeshBreaking":false,"disableTriangleBreaking":false},
    ],
    "triangles": [
            ["id1:","id2:","id3:"],
            //pitman arm
            {"triangleType":"NORMALTYPE"},
            ["tfc1r", "tfc3r", "tfc3l"],
            ["tfc3l", "tfc1l", "tfc1r"],
            ["tfc4r", "tfc2r", "tfc4l"],
            ["tfc2l", "tfc4l", "tfc2r"],

            ["tfc2r", "tfc1r", "tfc1l"],
            ["tfc1l", "tfc2l", "tfc2r"],
            ["tfc3r", "tfc4r", "tfc3l"],
            ["tfc4l", "tfc3l", "tfc4r"],

            ["tfc1l", "tfc3l", "tfc4l"],
            ["tfc4l", "tfc2l", "tfc1l"],
            ["tfc3r", "tfc1r", "tfc4r"],
            ["tfc2r", "tfc4r", "tfc1r"],
            {"triangleType":"NORMALTYPE"},
    ],
}
}